<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <title>Flashcards de Combinat√≥ria</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="lib/katex.min.css" />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="app-layout">
            <!-- Sidebar lateral -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h1 class="sidebar-title">
                        <span class="title-icon">üéØ</span>
                        <div class="title-text">
                            <span class="title-main">Flashcards</span>
                            <span class="title-sub">Combinat√≥ria</span>
                        </div>
                    </h1>
                    <button
                        class="sidebar-toggle desktop-only"
                        id="sidebarToggle"
                        onclick="toggleSidebar()"
                    >
                        <span>‚Äπ</span>
                    </button>
                </div>

                <!-- Menu de categorias -->
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h3 class="nav-section-title">üìö Categorias</h3>
                        <div class="nav-buttons">
                            <button
                                class="nav-btn active"
                                data-category="todas"
                            >
                                <span class="nav-icon">üìö</span>
                                <div class="nav-content">
                                    <span class="nav-name"
                                        >Todas as Categorias</span
                                    >
                                    <span class="nav-desc"
                                        >Todos os flashcards dispon√≠veis</span
                                    >
                                </div>
                                <span class="nav-count" id="count-all">37</span>
                            </button>
                            <button
                                class="nav-btn"
                                data-category="permutacao"
                                onclick="setCategory('permutacao')"
                            >
                                <span class="nav-icon">üîÑ</span>
                                <div class="nav-content">
                                    <span class="nav-name">Permuta√ß√£o</span>
                                    <span class="nav-desc"
                                        >Ordenar todos os elementos</span
                                    >
                                </div>
                                <span class="nav-count" id="count-permutacao"
                                    >12</span
                                >
                            </button>
                            <button
                                class="nav-btn"
                                data-category="arranjo"
                                onclick="setCategory('arranjo')"
                            >
                                <span class="nav-icon">üìä</span>
                                <div class="nav-content">
                                    <span class="nav-name">Arranjo</span>
                                    <span class="nav-desc"
                                        >A ordem importa</span
                                    >
                                </div>
                                <span class="nav-count" id="count-arranjo"
                                    >13</span
                                >
                            </button>
                            <button
                                class="nav-btn"
                                data-category="combinacao"
                                onclick="setCategory('combinacao')"
                            >
                                <span class="nav-icon">üéØ</span>
                                <div class="nav-content">
                                    <span class="nav-name">Combina√ß√£o</span>
                                    <span class="nav-desc"
                                        >A ordem n√£o importa</span
                                    >
                                </div>
                                <span class="nav-count" id="count-combinacao"
                                    >12</span
                                >
                            </button>
                        </div>
                    </div>

                    <!-- Filtros de dificuldade -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üìà Dificuldade</h3>
                        <div class="nav-buttons difficulty-nav">
                            <button
                                class="nav-btn compact active"
                                data-difficulty="todas"
                                onclick="setDifficulty('all')"
                            >
                                <span class="nav-icon">üéØ</span>
                                <span class="nav-name">Todas</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                data-difficulty="basico"
                                onclick="setDifficulty('basico')"
                            >
                                <span class="nav-icon">üü¢</span>
                                <span class="nav-name">B√°sico</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                data-difficulty="intermediario"
                                onclick="setDifficulty('intermediario')"
                            >
                                <span class="nav-icon">üü°</span>
                                <span class="nav-name">Intermedi√°rio</span>
                            </button>
                        </div>
                    </div>

                    <!-- Barra de busca -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üîç Buscar</h3>
                        <div class="search-container">
                            <input
                                type="text"
                                id="searchInput"
                                placeholder="Buscar flashcards..."
                                oninput="performSearch()"
                                class="sidebar-search"
                            />
                            <button
                                onclick="clearSearch()"
                                class="search-clear"
                                id="searchClear"
                                style="display: none"
                            >
                                ‚úï
                            </button>
                        </div>
                    </div>

                    <!-- Tags populares -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üè∑Ô∏è Tags Populares</h3>
                        <div class="tags-grid" id="tagsContainer">
                            <!-- Tags ser√£o carregadas dinamicamente -->
                        </div>
                    </div>

                    <!-- A√ß√µes r√°pidas -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">‚ö° A√ß√µes</h3>
                        <div class="nav-buttons">
                            <button onclick="shuffleCards()" class="action-btn">
                                <span class="nav-icon">üé≤</span>
                                <span class="nav-name">Embaralhar</span>
                            </button>
                            <button
                                onclick="toggleStudyMode()"
                                id="studyModeBtn"
                                class="action-btn"
                            >
                                <span class="nav-icon">üéØ</span>
                                <span class="nav-name">Modo Estudo</span>
                            </button>
                        </div>
                    </div>

                    <!-- Modo de Visualiza√ß√£o -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üìã Modo</h3>
                        <div class="nav-buttons mode-nav">
                            <button
                                class="nav-btn compact active"
                                id="flashcardModeBtn"
                                onclick="switchToFlashcards()"
                            >
                                <span class="nav-icon">üÉè</span>
                                <span class="nav-name">Flashcards</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                id="questionModeBtn"
                                onclick="switchToQuestions()"
                            >
                                <span class="nav-icon">üìù</span>
                                <span class="nav-name">Quest√µes</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                id="theoryModeBtn"
                                onclick="switchToTheory()"
                            >
                                <span class="nav-icon">üìñ</span>
                                <span class="nav-name">Teoria</span>
                            </button>
                        </div>
                    </div>
                </nav>
            </aside>

            <!-- Overlay para mobile -->
            <div
                class="sidebar-overlay"
                id="sidebarOverlay"
                onclick="toggleSidebar()"
            ></div>

            <!-- Conte√∫do principal -->
            <main class="main-content">
                <!-- Header m√≥vel (s√≥ aparece em telas pequenas) -->
                <header class="mobile-header">
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">
                        <span>‚ò∞</span>
                    </button>
                    <h1 class="mobile-title">
                        <span>üéØ</span>
                        Flashcards
                    </h1>
                    <div class="mobile-spacer"></div>
                </header>

                <!-- Barra de progresso visual -->
                <div class="progress-section" id="progressSection">
                    <div class="progress-info">
                        <div class="progress-text" id="progress">
                            Card 1 de 37
                        </div>
                        <div class="progress-stats" id="progressStats">
                            <span class="stat-item">
                                <span class="stat-icon">üéØ</span>
                                <span id="currentCategory">Todas</span>
                            </span>
                            <span class="stat-item">
                                <span class="stat-icon">üìä</span>
                                <span id="currentDifficulty">Todas</span>
                            </span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-percentage" id="progressPercentage">
                        0%
                    </div>
                </div>

                <!-- SE√á√ÉO DE FLASHCARDS -->
                <div class="flashcard-section" id="flashcardSection">
                    <!-- Flashcard -->
                    <div
                        class="flashcard"
                        id="flashcard"
                        tabindex="0"
                        aria-label="Flashcard"
                        role="button"
                    >
                        <div class="flashcard-inner">
                            <div class="card-face card-front">
                                <div class="question" id="question">
                                    Carregando pergunta...
                                </div>
                            </div>
                            <div class="card-face card-back">
                                <div class="answer" id="answer"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Controles dos Flashcards -->
                    <div class="controls" id="flashcardControls">
                        <button
                            onclick="prevCard()"
                            title="Anterior"
                            aria-label="Anterior"
                            class="btn btn-secondary"
                        >
                            <span class="btn-icon">‚Üê</span> Anterior
                        </button>
                        <button
                            onclick="nextCard()"
                            title="Pr√≥ximo"
                            aria-label="Pr√≥ximo"
                            class="btn btn-secondary"
                        >
                            Pr√≥ximo <span class="btn-icon">‚Üí</span>
                        </button>
                        <button
                            onclick="flipCard()"
                            id="flipBtn"
                            title="Mostrar resposta"
                            aria-label="Mostrar resposta"
                            class="btn btn-primary"
                        >
                            <span class="btn-icon">üîÑ</span> Mostrar resposta
                        </button>
                        <button
                            onclick="toggleReverse()"
                            title="Inverter frente/verso"
                            aria-label="Inverter"
                            class="btn btn-secondary"
                        >
                            <span class="btn-icon">üîÄ</span> Inverter
                        </button>
                    </div>

                    <!-- Se√ß√£o de Explica√ß√£o dos Flashcards -->
                    <div class="explanation-section">
                        <button
                            onclick="toggleExplanation()"
                            id="explanationBtn"
                            class="explanation-toggle btn btn-accent"
                            title="Ver explica√ß√£o detalhada"
                        >
                            <span class="btn-icon">üí°</span> Ver Explica√ß√£o
                        </button>
                        <div
                            class="explanation-content"
                            id="explanationContent"
                        >
                            <div class="explanation-text" id="explanationText">
                                Clique em "Ver Explica√ß√£o" para obter detalhes
                                sobre este problema.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SE√á√ÉO DE QUEST√ïES DE VESTIBULAR -->
                <div
                    class="question-section"
                    id="questionSection"
                    style="display: none"
                >
                    <div class="question-header">
                        <div class="question-info">
                            <span
                                class="question-vestibular"
                                id="questionVestibular"
                                >ENEM</span
                            >
                            <span class="question-year" id="questionYear"
                                >2023</span
                            >
                            <span
                                class="question-difficulty"
                                id="questionDifficulty"
                                >Intermedi√°rio</span
                            >
                        </div>
                        <div class="question-counter" id="questionCounter">
                            Quest√£o 1 de 8
                        </div>
                    </div>

                    <div class="question-content">
                        <div class="question-text" id="questionText">
                            Carregando quest√£o...
                        </div>

                        <div class="question-options" id="questionOptions">
                            <!-- Op√ß√µes ser√£o carregadas dinamicamente -->
                        </div>

                        <div class="question-actions">
                            <button
                                class="btn btn-primary"
                                id="submitAnswerBtn"
                                onclick="submitAnswer()"
                                disabled
                            >
                                <span class="btn-icon">‚úì</span> Responder
                            </button>
                            <button
                                class="btn btn-secondary"
                                id="skipQuestionBtn"
                                onclick="skipQuestion()"
                            >
                                <span class="btn-icon">‚Üí</span> Pular
                            </button>
                        </div>

                        <div
                            class="question-result"
                            id="questionResult"
                            style="display: none"
                        >
                            <div class="result-header">
                                <span class="result-icon" id="resultIcon"
                                    >‚úì</span
                                >
                                <span class="result-text" id="resultText"
                                    >Correto!</span
                                >
                            </div>
                            <div
                                class="result-explanation"
                                id="resultExplanation"
                            >
                                <!-- Explica√ß√£o ser√° carregada aqui -->
                            </div>
                        </div>
                    </div>

                    <!-- Controles das Quest√µes -->
                    <div
                        class="controls question-controls"
                        id="questionControls"
                    >
                        <button
                            onclick="prevQuestion()"
                            title="Quest√£o Anterior"
                            aria-label="Quest√£o Anterior"
                            class="btn btn-secondary"
                        >
                            <span class="btn-icon">‚Üê</span> Anterior
                        </button>
                        <button
                            onclick="nextQuestion()"
                            title="Pr√≥xima Quest√£o"
                            aria-label="Pr√≥xima Quest√£o"
                            class="btn btn-secondary"
                        >
                            Pr√≥xima <span class="btn-icon">‚Üí</span>
                        </button>
                        <button
                            onclick="randomQuestion()"
                            title="Quest√£o Aleat√≥ria"
                            aria-label="Quest√£o Aleat√≥ria"
                            class="btn btn-accent"
                        >
                            <span class="btn-icon">üé≤</span> Aleat√≥ria
                        </button>
                    </div>
                </div>

                <!-- SE√á√ÉO DE TEORIA -->
                <div
                    class="theory-section"
                    id="theorySection"
                    style="display: none"
                >
                    <div class="theory-header">
                        <h1>üìñ Teoria de Combinat√≥ria</h1>
                        <p>Conceitos fundamentais e f√≥rmulas essenciais</p>
                    </div>

                    <div class="theory-content">
                        <!-- Se√ß√£o de Introdu√ß√£o -->
                        <div class="theory-topic">
                            <h2>üìö Introdu√ß√£o</h2>
                            <div class="theory-text">
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur
                                    adipiscing elit. Sed do eiusmod tempor
                                    incididunt ut labore et dolore magna aliqua.
                                    Ut enim ad minim veniam, quis nostrud
                                    exercitation ullamco laboris nisi ut aliquip
                                    ex ea commodo consequat.
                                </p>
                                <p>
                                    Duis aute irure dolor in reprehenderit in
                                    voluptate velit esse cillum dolore eu fugiat
                                    nulla pariatur. Excepteur sint occaecat
                                    cupidatat non proident, sunt in culpa qui
                                    officia deserunt mollit anim id est laborum.
                                </p>
                            </div>
                        </div>

                        <!-- Se√ß√£o de Conceitos B√°sicos -->
                        <div class="theory-topic">
                            <h2>üî¢ Conceitos B√°sicos</h2>
                            <div class="theory-text">
                                <p>
                                    Sed ut perspiciatis unde omnis iste natus
                                    error sit voluptatem accusantium doloremque
                                    laudantium, totam rem aperiam, eaque ipsa
                                    quae ab illo inventore veritatis et quasi
                                    architecto beatae vitae dicta sunt
                                    explicabo.
                                </p>
                                <p>
                                    Nemo enim ipsam voluptatem quia voluptas sit
                                    aspernatur aut odit aut fugit, sed quia
                                    consequuntur magni dolores eos qui ratione
                                    voluptatem sequi nesciunt.
                                </p>
                            </div>
                        </div>

                        <!-- Resumo Final - Exatamente como na imagem -->
                        <div class="theory-topic final-summary">
                            <h2>üìã Resumo Final</h2>
                            <div class="formulas-grid">
                                <!-- Coluna Esquerda - F√≥rmulas -->
                                <div class="formulas-column">
                                    <div class="formula-item">
                                        <span class="formula-label"
                                            >Seja <em>A</em> um conjunto com
                                            <em>n</em> elementos.</span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >P(n) = n!</span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >A(n,n) =
                                            <span class="fraction"
                                                >n!<br />(n-n)!</span
                                            >
                                            =
                                            <span class="fraction"
                                                >n!<br />0!</span
                                            >
                                            =
                                            <span class="fraction"
                                                >n!<br />1</span
                                            >
                                            = n! = P(n)</span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >A(n,p) =
                                            <span class="fraction"
                                                >n!<br />(n-p)!</span
                                            ></span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >C(n,p) =
                                            <span class="binom"
                                                >(<span class="binom-n">n</span
                                                ><br /><span class="binom-p"
                                                    >p</span
                                                >)</span
                                            >
                                            =
                                            <span class="fraction"
                                                >A(n,p)<br />p!</span
                                            >
                                            =
                                            <span class="fraction"
                                                >n!<br />p!</span
                                            >
                                            =
                                            <span class="fraction"
                                                >n!<br />(n-p)! ¬∑ p!</span
                                            >
                                            =
                                            <span class="fraction"
                                                >n!<br />p!(n-p)!</span
                                            ></span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >P<sub>rep</sub>(n) =
                                            <span class="fraction"
                                                >n!<br />r‚ÇÅ! ¬∑ r‚ÇÇ! ¬∑ ... ¬∑
                                                r‚Çñ!</span
                                            ></span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >A<sub>rep</sub>(n,p) = n<sup
                                                >p</sup
                                            ></span
                                        >
                                    </div>

                                    <div class="formula-item">
                                        <span class="formula-math"
                                            >C<sub>rep</sub>(n,p) =
                                            <span class="binom"
                                                >(<span class="binom-n"
                                                    >n+p-1</span
                                                ><br /><span class="binom-p"
                                                    >p</span
                                                >)</span
                                            >
                                            =
                                            <span class="fraction"
                                                >(n+p-1)!<br />p!(n-1)!</span
                                            ></span
                                        >
                                    </div>
                                </div>

                                <!-- Coluna Direita - Descri√ß√µes -->
                                <div class="descriptions-column">
                                    <div class="description-item empty"></div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>A</em>
                                        <span class="highlight-red"
                                            >excluindo elementos repetidos</span
                                        >, tais como {1,1} ou {2,2,2}, etc..
                                    </div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>n</em> elementos
                                        de <em>A</em>
                                        <span class="highlight-red"
                                            >excluindo elementos repetidos</span
                                        >, tais como {1,1} ou {2,2,2}, etc..
                                    </div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>p</em> elementos
                                        de <em>A</em>
                                        <span class="highlight-red"
                                            >excluindo elementos repetidos</span
                                        >, tais como {1,1} ou {2,2,2}, etc..
                                    </div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>p</em> elementos
                                        de <em>A</em> onde
                                        <span class="highlight-red"
                                            >ordem n√£o importa</span
                                        >, p.ex: {a,b} = {b,a}.
                                    </div>

                                    <div class="description-item">
                                        todas as ordena√ß√µes de <em>A</em>
                                        <span class="highlight-red"
                                            >excluindo elementos repetidos</span
                                        >, p.ex: se {a,a,a,b,b,c} ent√£o {a,b,c}
                                        e r‚ÇÅ = 3 e r‚ÇÇ = 2, (3 a's e 2 b's)
                                    </div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>p</em> elementos
                                        de <em>A</em>
                                        <span class="highlight-green"
                                            >com elementos repetidos</span
                                        >, tais como {1,1} ou {2,2,2}, etc..
                                    </div>

                                    <div class="description-item">
                                        todas ordena√ß√µes de <em>p</em> elementos
                                        de <em>A</em> onde
                                        <span class="highlight-red"
                                            >ordem n√£o importa</span
                                        >, p.ex: {a,b} = {b,a} .
                                        <span class="highlight-green"
                                            >com elementos repetidos</span
                                        >, tais como {1,1} ou {2,2,2}, etc..
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <!-- Painel de estat√≠sticas -->
            <div class="stats-panel" id="statsPanel">
                <div class="stats-header">
                    <h3>üìä Estat√≠sticas de Estudo</h3>
                    <button onclick="toggleStatsPanel()" class="stats-close">
                        ‚úï
                    </button>
                </div>
                <div class="stats-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalCardsViewed">
                                0
                            </div>
                            <div class="stat-label">Cards Visualizados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="studyTime">00:00</div>
                            <div class="stat-label">Tempo de Estudo</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="currentStreak">0</div>
                            <div class="stat-label">Sequ√™ncia Atual</div>
                        </div>
                    </div>

                    <div class="categories-breakdown">
                        <h4>üìà Por Categoria</h4>
                        <div class="category-stats" id="categoryStats">
                            <!-- Ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <div class="study-actions">
                        <button
                            onclick="resetStats()"
                            class="btn btn-secondary"
                        >
                            <span class="btn-icon">üîÑ</span> Reset Estat√≠sticas
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scripts KaTeX -->
        <script src="lib/katex.min.js"></script>
        <script src="lib/auto-render.min.js"></script>

        <!-- Script da aplica√ß√£o -->
        <script src="script.js"></script>
    </body>
</html>
