<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <title>Flashcards de Combinat√≥ria</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"
        />
        <link rel="stylesheet" href="style.css" />
    </head>
    <body>
        <div class="app-layout">
            <!-- Sidebar lateral -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h1 class="sidebar-title">
                        <span class="title-icon">üéØ</span>
                        <div class="title-text">
                            <span class="title-main">Flashcards</span>
                            <span class="title-sub">Combinat√≥ria</span>
                        </div>
                    </h1>
                    <button
                        class="sidebar-toggle desktop-only"
                        id="sidebarToggle"
                        onclick="toggleSidebar()"
                    >
                        <span>‚Äπ</span>
                    </button>
                </div>

                <!-- Menu de categorias -->
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h3 class="nav-section-title">üìö Categorias</h3>
                        <div class="nav-buttons">
                            <button
                                class="nav-btn active"
                                data-category="todas"
                            >
                                <span class="nav-icon">üìö</span>
                                <div class="nav-content">
                                    <span class="nav-name"
                                        >Todas as Categorias</span
                                    >
                                    <span class="nav-desc"
                                        >Todos os flashcards dispon√≠veis</span
                                    >
                                </div>
                                <span class="nav-count" id="count-all">37</span>
                            </button>
                            <button
                                class="nav-btn"
                                data-category="permutacao"
                                onclick="setCategory('permutacao')"
                            >
                                <span class="nav-icon">üîÑ</span>
                                <div class="nav-content">
                                    <span class="nav-name">Permuta√ß√£o</span>
                                    <span class="nav-desc"
                                        >Ordenar todos os elementos</span
                                    >
                                </div>
                                <span class="nav-count" id="count-permutacao"
                                    >12</span
                                >
                            </button>
                            <button
                                class="nav-btn"
                                data-category="arranjo"
                                onclick="setCategory('arranjo')"
                            >
                                <span class="nav-icon">üìä</span>
                                <div class="nav-content">
                                    <span class="nav-name">Arranjo</span>
                                    <span class="nav-desc"
                                        >A ordem importa</span
                                    >
                                </div>
                                <span class="nav-count" id="count-arranjo"
                                    >13</span
                                >
                            </button>
                            <button
                                class="nav-btn"
                                data-category="combinacao"
                                onclick="setCategory('combinacao')"
                            >
                                <span class="nav-icon">üéØ</span>
                                <div class="nav-content">
                                    <span class="nav-name">Combina√ß√£o</span>
                                    <span class="nav-desc"
                                        >A ordem n√£o importa</span
                                    >
                                </div>
                                <span class="nav-count" id="count-combinacao"
                                    >12</span
                                >
                            </button>
                        </div>
                    </div>

                    <!-- Filtros de dificuldade -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üìà Dificuldade</h3>
                        <div class="nav-buttons difficulty-nav">
                            <button
                                class="nav-btn compact active"
                                data-difficulty="todas"
                                onclick="setDifficulty('all')"
                            >
                                <span class="nav-icon">üéØ</span>
                                <span class="nav-name">Todas</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                data-difficulty="basico"
                                onclick="setDifficulty('basico')"
                            >
                                <span class="nav-icon">üü¢</span>
                                <span class="nav-name">B√°sico</span>
                            </button>
                            <button
                                class="nav-btn compact"
                                data-difficulty="intermediario"
                                onclick="setDifficulty('intermediario')"
                            >
                                <span class="nav-icon">üü°</span>
                                <span class="nav-name">Intermedi√°rio</span>
                            </button>
                        </div>
                    </div>

                    <!-- Barra de busca -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üîç Buscar</h3>
                        <div class="search-container">
                            <input
                                type="text"
                                id="searchInput"
                                placeholder="Buscar flashcards..."
                                oninput="performSearch()"
                                class="sidebar-search"
                            />
                            <button
                                onclick="clearSearch()"
                                class="search-clear"
                                id="searchClear"
                                style="display: none"
                            >
                                ‚úï
                            </button>
                        </div>
                    </div>

                    <!-- Tags populares -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">üè∑Ô∏è Tags Populares</h3>
                        <div class="tags-grid" id="tagsContainer">
                            <!-- Tags ser√£o carregadas dinamicamente -->
                        </div>
                    </div>

                    <!-- A√ß√µes r√°pidas -->
                    <div class="nav-section">
                        <h3 class="nav-section-title">‚ö° A√ß√µes</h3>
                        <div class="nav-buttons">
                            <button onclick="shuffleCards()" class="action-btn">
                                <span class="nav-icon">üé≤</span>
                                <span class="nav-name">Embaralhar</span>
                            </button>
                            <button
                                onclick="toggleStudyMode()"
                                id="studyModeBtn"
                                class="action-btn"
                            >
                                <span class="nav-icon">üéØ</span>
                                <span class="nav-name">Modo Estudo</span>
                            </button>
                        </div>
                    </div>
                </nav>
            </aside>

            <!-- Overlay para mobile -->
            <div
                class="sidebar-overlay"
                id="sidebarOverlay"
                onclick="toggleSidebar()"
            ></div>

            <!-- Conte√∫do principal -->
            <main class="main-content">
                <!-- Header m√≥vel (s√≥ aparece em telas pequenas) -->
                <header class="mobile-header">
                    <button class="mobile-menu-btn" onclick="toggleSidebar()">
                        <span>‚ò∞</span>
                    </button>
                    <h1 class="mobile-title">
                        <span>üéØ</span>
                        Flashcards
                    </h1>
                    <div class="mobile-spacer"></div>
                </header>

                <!-- Barra de progresso visual -->
                <div class="progress-section">
                    <div class="progress-info">
                        <div class="progress-text" id="progress">
                            Card 1 de 37
                        </div>
                        <div class="progress-stats" id="progressStats">
                            <span class="stat-item">
                                <span class="stat-icon">üéØ</span>
                                <span id="currentCategory">Todas</span>
                            </span>
                            <span class="stat-item">
                                <span class="stat-icon">üìä</span>
                                <span id="currentDifficulty">Todas</span>
                            </span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-percentage" id="progressPercentage">
                        0%
                    </div>
                </div>

                <!-- Flashcard -->
                <div
                    class="flashcard"
                    id="flashcard"
                    tabindex="0"
                    aria-label="Flashcard"
                    role="button"
                >
                    <div class="flashcard-inner">
                        <div class="card-face card-front">
                            <div class="question" id="question">
                                Carregando pergunta...
                            </div>
                        </div>
                        <div class="card-face card-back">
                            <div class="answer" id="answer"></div>
                        </div>
                    </div>
                </div>

                <!-- Controles -->
                <div class="controls">
                    <button
                        onclick="prevCard()"
                        title="Anterior"
                        aria-label="Anterior"
                        class="btn btn-secondary"
                    >
                        <span class="btn-icon">‚Üê</span> Anterior
                    </button>
                    <button
                        onclick="nextCard()"
                        title="Pr√≥ximo"
                        aria-label="Pr√≥ximo"
                        class="btn btn-secondary"
                    >
                        Pr√≥ximo <span class="btn-icon">‚Üí</span>
                    </button>
                    <button
                        onclick="flipCard()"
                        id="flipBtn"
                        title="Mostrar resposta"
                        aria-label="Mostrar resposta"
                        class="btn btn-primary"
                    >
                        <span class="btn-icon">üîÑ</span> Mostrar resposta
                    </button>
                    <button
                        onclick="toggleReverse()"
                        title="Inverter frente/verso"
                        aria-label="Inverter"
                        class="btn btn-secondary"
                    >
                        <span class="btn-icon">üîÄ</span> Inverter
                    </button>
                </div>

                <!-- Se√ß√£o de Explica√ß√£o -->
                <div class="explanation-section">
                    <button
                        onclick="toggleExplanation()"
                        id="explanationBtn"
                        class="explanation-toggle btn btn-accent"
                        title="Ver explica√ß√£o detalhada"
                    >
                        <span class="btn-icon">üí°</span> Ver Explica√ß√£o
                    </button>
                    <div class="explanation-content" id="explanationContent">
                        <div class="explanation-text" id="explanationText">
                            Clique em "Ver Explica√ß√£o" para obter detalhes sobre
                            este problema.
                        </div>
                    </div>
                </div>
            </main>

            <!-- Painel de estat√≠sticas -->
            <div class="stats-panel" id="statsPanel">
                <div class="stats-header">
                    <h3>üìä Estat√≠sticas de Estudo</h3>
                    <button onclick="toggleStatsPanel()" class="stats-close">
                        ‚úï
                    </button>
                </div>
                <div class="stats-content">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="totalCardsViewed">
                                0
                            </div>
                            <div class="stat-label">Cards Visualizados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="studyTime">00:00</div>
                            <div class="stat-label">Tempo de Estudo</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" id="currentStreak">0</div>
                            <div class="stat-label">Sequ√™ncia Atual</div>
                        </div>
                    </div>

                    <div class="categories-breakdown">
                        <h4>üìà Por Categoria</h4>
                        <div class="category-stats" id="categoryStats">
                            <!-- Ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <div class="study-actions">
                        <button
                            onclick="resetStats()"
                            class="btn btn-secondary"
                        >
                            <span class="btn-icon">üîÑ</span> Reset Estat√≠sticas
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Scripts KaTeX -->
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
        
        <!-- Script da aplica√ß√£o -->
        <script src="script.js"></script>
    </body>
</html>
