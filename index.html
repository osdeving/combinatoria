<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <title>Flashcards de Combinatória</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"
        />
        <link rel="stylesheet" href="style.css" />
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
    </head>
    <body>
        <div class="container">
            <!-- Header com navegação -->
            <header class="header">
                <h1 class="title">
                    <span class="title-icon">🎯</span>
                    Flashcards de Combinatória
                </h1>
                
                <!-- Menu de categorias -->
                <nav class="category-nav">
                    <button class="category-btn active" data-category="all" onclick="setCategory('all')">
                        <span class="category-icon">📚</span>
                        <span class="category-name">Todas</span>
                        <span class="category-count" id="count-all">37</span>
                    </button>
                    <button class="category-btn" data-category="permutacao" onclick="setCategory('permutacao')">
                        <span class="category-icon">🔄</span>
                        <span class="category-name">Permutação</span>
                        <span class="category-count" id="count-permutacao">12</span>
                    </button>
                    <button class="category-btn" data-category="arranjo" onclick="setCategory('arranjo')">
                        <span class="category-icon">📊</span>
                        <span class="category-name">Arranjo</span>
                        <span class="category-count" id="count-arranjo">13</span>
                    </button>
                    <button class="category-btn" data-category="combinacao" onclick="setCategory('combinacao')">
                        <span class="category-icon">🎯</span>
                        <span class="category-name">Combinação</span>
                        <span class="category-count" id="count-combinacao">12</span>
                    </button>
                </nav>
                
                <!-- Filtros de dificuldade -->
                <div class="difficulty-filters">
                    <label class="filter-label">Dificuldade:</label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn active" data-difficulty="all" onclick="setDifficulty('all')">
                            <span class="difficulty-icon">🎯</span>
                            Todas
                        </button>
                        <button class="difficulty-btn" data-difficulty="basico" onclick="setDifficulty('basico')">
                            <span class="difficulty-icon">🟢</span>
                            Básico
                        </button>
                        <button class="difficulty-btn" data-difficulty="intermediario" onclick="setDifficulty('intermediario')">
                            <span class="difficulty-icon">🟡</span>
                            Intermediário
                        </button>
                    </div>
                </div>
                
                <!-- Barra de busca e filtros avançados -->
                <div class="search-section">
                    <div class="search-bar">
                        <input type="text" 
                               id="searchInput" 
                               placeholder="Buscar em perguntas, respostas ou explicações..." 
                               oninput="performSearch()"
                               class="search-input">
                        <button onclick="clearSearch()" class="search-clear" id="searchClear" style="display: none;">
                            <span>✕</span>
                        </button>
                    </div>
                    
                    <!-- Tags populares -->
                    <div class="tags-section" id="tagsSection">
                        <label class="filter-label">Tags populares:</label>
                        <div class="tags-container" id="tagsContainer">
                            <!-- Tags serão carregadas dinamicamente -->
                        </div>
                    </div>
                </div>
            </header>

            <!-- Conteúdo principal -->
            <div class="main-content">
                <!-- Barra de progresso visual -->
                <div class="progress-section">
                    <div class="progress-info">
                        <div class="progress-text" id="progress">Card 1 de 37</div>
                        <div class="progress-stats" id="progressStats">
                            <span class="stat-item">
                                <span class="stat-icon">🎯</span>
                                <span id="currentCategory">Todas</span>
                            </span>
                            <span class="stat-item">
                                <span class="stat-icon">📊</span>
                                <span id="currentDifficulty">Todas</span>
                            </span>
                        </div>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="progress-percentage" id="progressPercentage">0%</div>
                </div>
            <div
                class="flashcard"
                id="flashcard"
                tabindex="0"
                aria-label="Flashcard"
                role="button"
            >
                <div class="flashcard-inner">
                    <div class="card-face card-front">
                        <div class="question" id="question">
                            Carregando pergunta...
                        </div>
                    </div>
                    <div class="card-face card-back">
                        <div class="answer" id="answer"></div>
                    </div>
                </div>
            </div>
            <div class="controls">
                <button
                    onclick="prevCard()"
                    title="Anterior"
                    aria-label="Anterior"
                    class="btn btn-secondary"
                >
                    <span class="btn-icon">←</span> Anterior
                </button>
                <button
                    onclick="nextCard()"
                    title="Próximo"
                    aria-label="Próximo"
                    class="btn btn-secondary"
                >
                    Próximo <span class="btn-icon">→</span>
                </button>
                <button
                    onclick="flipCard()"
                    id="flipBtn"
                    title="Mostrar resposta"
                    aria-label="Mostrar resposta"
                    class="btn btn-primary"
                >
                    <span class="btn-icon">🔄</span> Mostrar resposta
                </button>
                <button
                    onclick="toggleReverse()"
                    title="Inverter frente/verso"
                    aria-label="Inverter"
                    class="btn btn-secondary"
                >
                    <span class="btn-icon">🔀</span> Inverter
                </button>
                <button
                    onclick="shuffleCards()"
                    title="Embaralhar"
                    aria-label="Embaralhar"
                    class="btn btn-secondary"
                >
                    <span class="btn-icon">🎲</span> Embaralhar
                </button>
            </div>

            <!-- Seção de Explicação -->
            <div class="explanation-section">
                <button
                    onclick="toggleExplanation()"
                    id="explanationBtn"
                    class="explanation-toggle btn btn-accent"
                    title="Ver explicação detalhada"
                >
                    <span class="btn-icon">💡</span> Ver Explicação
                </button>
                <div class="explanation-content" id="explanationContent">
                    <div class="explanation-text" id="explanationText">
                        Clique em "Ver Explicação" para obter detalhes sobre
                        este problema.
                    </div>
                </div>
            </div>
            </div>
        </div>
        <script src="script.js"></script>
    </body>
</html>
